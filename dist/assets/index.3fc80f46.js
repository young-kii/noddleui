import{r as t,j as a,F as y,L as W,a as w}from"./index.a45ea5cd.js";const T="_show_1gcy4_1",v="_content_1gcy4_50",E="_container_1gcy4_61",C="_segmentOption_1gcy4_73",X="_selected_1gcy4_85",j="_highlight_1gcy4_97",R="_selected_change_font_1gcy4_118",k="_option_selected_1gcy4_1",s={"noddle-configPanel":"_noddle-configPanel_1gcy4_12",show:T,content:v,container:E,segmentOption:C,selected:X,highlight:j,selected_change_font:R,option_selected:k},F=W.getLocale,A=m=>{let h=0;const{className:l,tabs:i,selected:_,onChange:d}=m,[r,g]=t.exports.useState([]),n=t.exports.useRef(),b=F(),[p,f]=t.exports.useState([]),x=i.map((c,o)=>(c.tab===_&&(h=o),{...c,id:o}));return t.exports.useEffect(()=>{const c=n.current.getElementsByClassName(s.segmentOption),o=[];for(let u of c)o.push(u.offsetWidth);g(o),f(c)},[b]),a(y,{children:a("div",{ref:n,className:s.container+" "+l,children:a(I,{tabs:x,selected:h,optionWidth:r,onChange:d,options:p})})})},I=m=>{const h=t.exports.useRef(),l=t.exports.useRef(),{tabs:i,selected:_,optionWidth:d,onChange:r,options:g}=m,[n,b]=t.exports.useState(_),[p,f]=t.exports.useState(""),[x,c]=t.exports.useState(0),[o,u]=t.exports.useState(),[L,O]=t.exports.useState(2),N=e=>{b(e.target.dataset.id),f(e.target.dataset.tab),u(e.target),o&&o.classList.remove(s.selected_change_font),e.target.classList.add(s.selected_change_font)};return t.exports.useEffect(()=>{f(i[Number(_)].tab)},[]),t.exports.useEffect(()=>{c(d[n]);let e=2;for(let S=0;S<n;S++)e+=d[S]+4;O(e),p&&(r==null||r({tab:p,label:i[n].label})),g.length!==0&&(u(g[n]),g[n].classList.add(s.selected_change_font),l.current.classList.remove(s.highlight),setTimeout(()=>{l.current.classList.add(s.highlight)},10))},[d,n]),w(y,{children:[a("span",{ref:h,className:s.selected,style:{width:x,transform:`translateX(${L}px)`},children:a("div",{ref:l,className:s.highlight})}),i.map(e=>a("div",{className:s.segmentOption,"data-id":e.id,"data-tab":e.tab,"data-label":e.label,onClick:N,children:e.label},e.id))]})};export{A as S};

import{S as F,A as S}from"./index.0e621c39.js";import{r as l,a as c,j as e,C as R,F as E}from"./index.a45ea5cd.js";import{D as b}from"./index.3bd378e2.js";import{S as C,n as j}from"./common.be625b9d.js";import{B as I}from"./index.c78fdff7.js";import{n as O}from"./index.f4845f6e.js";const K=d=>{const{maxCount:s}=d,[r,a]=l.exports.useState([""]);return c(C,{children:[e(I,{onClick:()=>{let n=r.filter(o=>o);O.success({title:"\u4F60\u9009\u4E2D\u4E86\u5982\u4E0B\u6807\u7B7E",content:JSON.stringify(n)})},children:"ok"}),e(C,{children:r.map((n,o)=>e(P,{maxCount:s||1,num:o,defaultValue:n,setTags:a,tags:r,...d},o))})]})},P=d=>{const{defaultValue:s,num:r,setTags:a,tags:n,maxCount:o}=d,p=R.mClassNames.bind(F),[i,f]=l.exports.useState(s||""),[N,h]=l.exports.useState("\u6DFB\u52A0"),u=l.exports.useRef(""),[x,g]=l.exports.useState(!1),k=p({container:!0,notEmpty:i}),T={border:x&&`1px solid ${j}`},y=p({panel:!0}),_=p({input:!0}),v=()=>{g(!0),setTimeout(()=>u.current.focus(),0)},D=t=>{f(t.target.value)},V=()=>{g(!0)},B=()=>{if(g(!1),u.current.value==="")return h("\u6DFB\u52A0");h(u.current.value);let t=[...n];t.splice(r,1,u.current.value),n.length<o&&t.indexOf("")===-1&&t.push(""),a([]),a==null||a(t)},w=t=>{t.key==="Enter"&&B()},A=t=>{t.stopPropagation(),f("");let m=[...n];m.splice(r,1),n.length<=o&&m.indexOf("")===-1&&m.push(""),a(m)};return l.exports.useEffect(()=>{(!i||!s)&&h("\u6DFB\u52A0"),f(s),s&&h(s)},[s]),e(E,{children:c("div",{className:k,style:T,children:[c("div",{className:y,onClick:v,children:[!i&&e(S,{height:14,width:14,style:{marginRight:4}}),N,i&&e("div",{className:F.dismissIconContainer,children:e(b,{height:12,width:12,onClick:A})})]}),c("div",{className:y,style:{height:0,visibility:"hidden"},onClick:v,children:[!i&&e(S,{height:16,width:16,style:{marginRight:4}}),i]}),x&&e("input",{onKeyUp:w,onFocus:V,ref:u,onBlur:B,className:_,value:i,onChange:D})]})})},z=()=>c(E,{children:["tag:",e(C,{gap:0,children:e(K,{maxCount:4})})]});export{z as default};
